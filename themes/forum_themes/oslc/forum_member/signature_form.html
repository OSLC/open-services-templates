
<script type="text/javascript">
<!--

function textcounter()
{
	var max		= {maxchars};
	var base	= document.forms.submit_post;
	var cur		= base.body.value.length;

	if (cur > max)
	{
		base.body.value = base.body.value.substring(0, max);
	} 
	else
	{
		base.charsleft.value = max - cur
	}
}

//-->
</script>


{form_declaration}

<table border='0' cellspacing='0' cellpadding='0' style='width:100%'>
<tr>
<td class='profileHeadingBG' colspan='2'><div class="tableHeading">{lang:edit_signature}</div></td>

</tr>

<tr>

<td class="tableCellTwo" style="width:18%;" valign="middle" align="right">
<div class='buttonMode'>{lang:guided}&nbsp;<input type='radio' name='mode' value='guided' onclick='setmode(this.value)' />&nbsp;{lang:normal}&nbsp;<input type='radio' name='mode' value='normal' onclick='setmode(this.value)' checked='checked'/></div></td>
<td class="tableCellTwo" style="width:82%;"><div class="itempadbig">{include:html_formatting_buttons}</div></td>

</tr>

<tr>

<td class="tableCellTwo" style="width:18%;" valign="top" align="right">
<div><b>{lang:signature}</b></div>
</td>

<td class="tableCellTwo" style="width:82%;"><textarea name='body' style='width:100%' class='textarea' rows='8' cols='90' onkeydown="textcounter();" onkeyup="textcounter();" >{signature}</textarea></td>


</tr><tr>
<td class="tableCellTwo" style="width:18%;" align="right"><b>{lang:max_characters}</b></td>
<td class="tableCellTwo" style="width:82%;"><input type="text" class="input" name="charsleft" size="5" maxlength="4" value="{maxchars}" readonly="readonly"/></td>

{if image}
</tr><tr>
<td class='tableCellTwo' style="width:18%;" align="right"><div class="itempadbig"><div class='defaultBold'>{lang:signature_image}</div></div></td>
<td class='tableCellTwo' style="width:82%;">
<div class="itempad"><img src="{path:signature_image}" border="0" width="{signature_image_width}" height="{signature_image_height}" title="{lang:signature_image}" /></div>
{/if}

</tr><tr>
<td class="tableCellTwo" style="width:18%;" align="right" valign="top">
<div class="itempadbig"><b>{lang:upload_image}</b></div>
</td>
<td class="tableCellTwo" style="width:82%;">
	{if upload_allowed}
		<div class="itempad"><input type="file" name="userfile" size="20" class="input" /></div>
		<div class="lighttext">{lang:max_image_size}</div>
		<div class="lighttext">{lang:allowed_image_types}</div>
	{/if}
	{if upload_not_allowed}
		<div class="lighttext">{lang:uploads_not_allowed}</div>
	{/if}
</td>


</tr><tr>


<td class='tableCellOne' colspan='2'>
<div class='marginpad'>
<input type='submit' class='button' value='{lang:update_signature}' name="submit" /> 
{if image}&nbsp;&nbsp;<input type='submit' class='button neg' value='{lang:remove_image}' name="remove" />{/if}
</div>
</td>
</tr>
</table>

</form>